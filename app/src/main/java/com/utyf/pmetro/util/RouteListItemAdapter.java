package com.utyf.pmetro.util;import android.content.Context;import android.support.annotation.NonNull;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ArrayAdapter;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.TextView;import com.utyf.pmetro.R;/** * Created by Fedor on 10.04.2016. * * Adapter for displaying a route in the list of alternative routes */public class RouteListItemAdapter extends ArrayAdapter<RouteListItem> {    private int resource;    private Context context;    public RouteListItemAdapter(Context context, int resource, RouteListItem[] objects) {        super(context, resource, objects);        this.context = context;        this.resource = resource;    }    @NonNull    @Override    public View getView(int position, View convertView, @NonNull ViewGroup parent) {        RouteListItem item = getItem(position);        LinearLayout view;        if (convertView == null) {            LayoutInflater inflater = LayoutInflater.from(context);            view = (LinearLayout)inflater.inflate(resource, null);        }        else {            view = (LinearLayout)convertView;            // Remove all children except TextView            view.removeViewsInLayout(1, view.getChildCount() - 1);        }        TextView textView = view.findViewById(R.id.textView3);        textView.setText(item.getTime());        LayoutInflater inflater = LayoutInflater.from(context);        ImageView imageView = (ImageView)inflater.inflate(R.layout.metro_line_icon, view, false);        imageView.setImageDrawable(item.getImage());        view.addView(imageView);        return view;    }}